NineNineFreelas.modules.SearchBox=function(){function a(){function a(a){var b=h[a],c=b.dropdown;c.toggleClass("opened")}function c(a,b){var c=h[b],d=c.mapItens,e=d[a],f=(c.dropdown,c.hide),g=$('.search-hide[data-key="'+a+'"]'),i=c.searchFor,j=c.input,k=c.activeName;f.removeClass("hidden"),g.addClass("hidden"),i.val(a),j.attr("placeholder",e.placeholder),k.text(e.name),c.activeKey=a}function d(a){var b=h[a],c=b.activeKey,d=b.mapItens,e=d[c],f=b.input,g=f.val();g&&(g=j.formatarValorParametro(g,!0)),window.location.href=e.searchFor(g)}function e(){$(".search-box .dropdown").removeClass("opened")}function f(b){if(b=i.defineDefault(b,{context:null,itens:[],activeKey:""}),b.context&&b.itens&&b.itens.length&&!h[b.context]){var e,f,g,j,k,l=b.context,m=$(l+".search-box"),n=m.find("form"),o=m.find(".search-hide"),p=m.find('input[type="search"]'),q=m.find(".search-active .name"),r=m.find('input[name="search-for"]'),s=m.find(".dropdown");for(h[l]={mapItens:{},searchBox:m,frmSearch:n,hide:o,input:p,searchFor:r,dropdown:s,activeName:q},e=b.itens,f=h[l].mapItens,g=0,j=e.length;j>g;g++)k=e[g],f[k.key]=k;s.click(function(b){a(l),b.stopPropagation()}),c(b.activeKey,l),o.click(function(){var a=$(this),b=a.attr("data-key");c(b,l)}),n.submit(function(){try{d(l)}catch(a){}return!1})}}function g(){b.define=f,b.hideAll=e}var h={},i=NineNineFreelas.prepare(NineNineFreelas.utils.ServiceUtils),j=NineNineFreelas.prepare(NineNineFreelas.utils.UrlUtils);g()}var b={};return b.prepare=function(){return b.prepare=function(){return b},a(),b},b}();