NineNineFreelas.utils.DateUtils=function(){function a(){function a(a,b,c){var d=new Date(a),e=((new Date).getTime()-d.getTime())/1e3,f=e>=0?Math.floor:Math.ceil,g=f(e/86400),h=d.getDate(),i=d.getMonth(),j=d.getFullYear(),k=d.getHours(),l=d.getMinutes(),m=(10>h?"0"+h:h)+"/"+(10>i+1?"0"+(i+1):i+1)+"/"+j,n=(10>k?"0"+k:k)+":"+(10>l?"0"+l:l),o=m+" às "+n;if(b)return o;if(isNaN(g)||0>g||g>31)return o;if(0==g){if(60>e)o="quase agora";else if(120>e)o="há um minuto";else if(3600>e)o=Math.floor(e/60)+" minutos atrás";else if(86400>e){var p=Math.floor(e/3600),q=p+(1===p?" hora":" horas");if(o=q+" atrás",c){var r=Math.floor(e/60)%60;r>0&&(o=q+(1===r?" e 1 minuto atrás":" e "+r+" minutos atrás"))}}}else if(7>g){var q=g+(1===g?" dia":" dias");if(o=q+" atrás",c){var p=Math.floor(e/3600)%24;p>0&&(o=q+(1===p?" e 1 hora atrás":" e "+p+" horas atrás"))}}return o}function c(a){return d(a,(new Date).getTime())}function d(a,b){var c=new Date(a),d=parseInt((c.getTime()-b)/1e3),e="";if(0>=d)e="Nenhum";else{var f=parseInt(d/60);d=parseInt(d%60);var g=parseInt(f/60);f=parseInt(f%60);var h=parseInt(g/24);g=parseInt(g%24);for(var i=[h,g,f,d],j=["dia","hora","minuto","segundo"],k=!1,l=0;l<i.length;l++)if(i[l]>0){var m=1!=i[l];if(k&&(e+=" e "),e+=i[l]+" "+j[l],m&&(e+="s"),k)break;k=!0}else if(k)break}return e}function e(b,d,e,f){var g=$(b),h=g.text(),i=g.attr("cp-datetime");i=parseInt(i);var j=e?c(i):a(i,d,f);j!=h&&g.text(j)}function f(a){a||(a=""),$(a+" .datetime").each(function(a,b){e(b)}),$(a+" .datetime-full").each(function(a,b){e(b,!0)}),$(a+" .datetime-restante").each(function(a,b){e(b,!1,!0)}),$(a+" .datetime-precisa").each(function(a,b){e(b,!1,!1,!0)})}function g(a){a.find(".datetime").each(function(a,b){e(b)}),a.find(".datetime-full").each(function(a,b){e(b,!0)}),a.find(".datetime-restante").each(function(a,b){e(b,!1,!0)}),a.find(".datetime-precisa").each(function(a,b){e(b,!1,!1,!0)})}function h(){b.atualizarDatas=f,b.atualizarDatasElem=g,b.formatarData=a,b.formatarDataRestante=c,b.formatarDataRestanteGeral=d}h()}var b={};return b.prepare=function(){return b.prepare=function(){return b},a(),b},b}();